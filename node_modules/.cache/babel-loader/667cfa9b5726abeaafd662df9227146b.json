{"ast":null,"code":"import { encodeUint } from '../common';\nimport { encodeCalls } from '../multicall2/encoder';\nimport { ethersAbi } from './constants';\nconst selector = ethersAbi.getSighash('aggregate');\nexport function encodeAggregate(calls) {\n  // function aggregate(tuple(address target, bytes callData)[] calls) public returns (tuple(uint256 blockNumber, bytes returnData)[])\n  // offset of the array is 0x20 because the only thing\n  // that goes before the array is the offset itself\n  const dynamicOffset = 0x20;\n  const res = selector + encodeUint(dynamicOffset); // encode dynamic array of calls\n\n  return encodeCalls(res, calls);\n}","map":{"version":3,"mappings":"AAAA,SAASA,UAAT,QAA2B,WAA3B;AACA,SAASC,WAAT,QAA4B,uBAA5B;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,MAAMC,QAAQ,GAAGD,SAAS,CAACE,UAAV,CAAqB,WAArB,CAAjB;AAEA,OAAM,SAAUC,eAAV,CAA0BC,KAA1B,EAAmD;EACvD;EAEA;EACA;EACA,MAAMC,aAAa,GAAG,IAAtB;EACA,MAAMC,GAAG,GAAGL,QAAQ,GAAGH,UAAU,CAACO,aAAD,CAAjC,CANuD,CAQvD;;EACA,OAAON,WAAW,CAACO,GAAD,EAAMF,KAAN,CAAlB;AACD","names":["encodeUint","encodeCalls","ethersAbi","selector","getSighash","encodeAggregate","calls","dynamicOffset","res"],"sources":["/Users/qianyisheng/Desktop/web3/brownie_test/web3_survey/front_end/node_modules/@usedapp/core/src/abi/multicall/encoder.ts"],"sourcesContent":["import { encodeUint } from '../common'\nimport { encodeCalls } from '../multicall2/encoder'\nimport { ethersAbi } from './constants'\n\nconst selector = ethersAbi.getSighash('aggregate')\n\nexport function encodeAggregate(calls: [string, string][]) {\n  // function aggregate(tuple(address target, bytes callData)[] calls) public returns (tuple(uint256 blockNumber, bytes returnData)[])\n\n  // offset of the array is 0x20 because the only thing\n  // that goes before the array is the offset itself\n  const dynamicOffset = 0x20\n  const res = selector + encodeUint(dynamicOffset)\n\n  // encode dynamic array of calls\n  return encodeCalls(res, calls)\n}\n"]},"metadata":{},"sourceType":"module"}