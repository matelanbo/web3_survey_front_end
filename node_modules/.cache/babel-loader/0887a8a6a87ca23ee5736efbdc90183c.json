{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useReducer } from 'react';\nimport pickBy from 'lodash.pickby';\nimport { DEFAULT_CONFIG } from '../../model/config/default';\nimport { ConfigContext } from './context';\nimport { configReducer } from './reducer';\n/**\n * We strip supplied config of undefined fields because it can easily break TS assumptions.\n *\n * Illustrative example:\n *\n * type FullConf = { something: string }\n * type PartConf = Partial<FullConf>\n *\n * const defaultConf: FullConf = { something: 'default' }\n * const suppliedConf: PartConf = { something: undefined }\n * const conf: FullConf = {...defaultConf, ...suppliedConf}\n * conf.something.toString() // OK according to TS, breaks on runtime.\n */\n\n/**\n * @internal Intended for internal use - use it on your own risk\n */\n\nconst noUndefined = x => x !== undefined;\n\nexport function ConfigProvider(_ref) {\n  let {\n    config,\n    children\n  } = _ref;\n\n  var _a;\n\n  const configWithDefaults = Object.assign(Object.assign(Object.assign({}, DEFAULT_CONFIG), pickBy(config, noUndefined)), {\n    bufferGasLimitPercentage: undefined,\n    gasLimitBufferPercentage: (_a = config.gasLimitBufferPercentage) !== null && _a !== void 0 ? _a : config.bufferGasLimitPercentage,\n    notifications: Object.assign(Object.assign({}, DEFAULT_CONFIG.notifications), pickBy(config.notifications, noUndefined))\n  });\n  const [reducedConfig, dispatch] = useReducer(configReducer, configWithDefaults);\n  return _jsx(ConfigContext.Provider, {\n    value: {\n      config: reducedConfig,\n      updateConfig: dispatch\n    },\n    children: children\n  });\n}","map":{"version":3,"mappings":";AAAA,SAAoBA,UAApB,QAAsC,OAAtC;AACA,OAAOC,MAAP,MAAmB,eAAnB;AAEA,SAASC,cAAT,QAA+B,4BAA/B;AACA,SAASC,aAAT,QAA8B,WAA9B;AACA,SAASC,aAAT,QAA8B,WAA9B;AAOA;;;;;;;;;;;;;;AAcA;;;;AAGA,MAAMC,WAAW,GAAIC,CAAD,IAAYA,CAAC,KAAKC,SAAtC;;AACA,OAAM,SAAUC,cAAV,OAAkE;EAAA,IAAzC;IAAEC,MAAF;IAAUC;EAAV,CAAyC;;;;EACtE,MAAMC,kBAAkB,iDACnBT,cADmB,GAEnBD,MAAM,CAACQ,MAAD,EAASJ,WAAT,CAFa,GAEQ;IAC9BO,wBAAwB,EAAEL,SADI;IAE9BM,wBAAwB,EAAE,YAAM,CAACA,wBAAP,MAA+B,IAA/B,IAA+BC,aAA/B,GAA+BA,EAA/B,GAAmCL,MAAM,CAACG,wBAFtC;IAG9BG,aAAa,kCACRb,cAAc,CAACa,aADP,GAERd,MAAM,CAACQ,MAAM,CAACM,aAAR,EAAuBV,WAAvB,CAFE;EAHiB,CAFR,CAAxB;EAUA,MAAM,CAACW,aAAD,EAAgBC,QAAhB,IAA4BjB,UAAU,CAACI,aAAD,EAAgBO,kBAAhB,CAA5C;EACA,OAAOO,KAACf,aAAa,CAACgB,QAAf,EAAuB;IAACC,KAAK,EAAE;MAAEX,MAAM,EAAEO,aAAV;MAAyBK,YAAY,EAAEJ;IAAvC,CAAR;IAA2DP,QAAQ,EAAEA;EAArE,CAAvB,CAAP;AACD","names":["useReducer","pickBy","DEFAULT_CONFIG","ConfigContext","configReducer","noUndefined","x","undefined","ConfigProvider","config","children","configWithDefaults","bufferGasLimitPercentage","gasLimitBufferPercentage","_a","notifications","reducedConfig","dispatch","_jsx","Provider","value","updateConfig"],"sources":["/Users/qianyisheng/Desktop/web3/brownie_test/brownie_fund_me/front_end/node_modules/@usedapp/core/src/providers/config/provider.tsx"],"sourcesContent":["import { ReactNode, useReducer } from 'react'\nimport pickBy from 'lodash.pickby'\nimport { Config, FullConfig } from '../../constants'\nimport { DEFAULT_CONFIG } from '../../model/config/default'\nimport { ConfigContext } from './context'\nimport { configReducer } from './reducer'\n\ninterface ConfigProviderProps {\n  children: ReactNode\n  config: Config\n}\n\n/**\n * We strip supplied config of undefined fields because it can easily break TS assumptions.\n *\n * Illustrative example:\n *\n * type FullConf = { something: string }\n * type PartConf = Partial<FullConf>\n *\n * const defaultConf: FullConf = { something: 'default' }\n * const suppliedConf: PartConf = { something: undefined }\n * const conf: FullConf = {...defaultConf, ...suppliedConf}\n * conf.something.toString() // OK according to TS, breaks on runtime.\n */\n\n/**\n * @internal Intended for internal use - use it on your own risk\n */\nconst noUndefined = (x: any) => x !== undefined\nexport function ConfigProvider({ config, children }: ConfigProviderProps) {\n  const configWithDefaults: FullConfig = {\n    ...DEFAULT_CONFIG,\n    ...pickBy(config, noUndefined),\n    bufferGasLimitPercentage: undefined,\n    gasLimitBufferPercentage: config.gasLimitBufferPercentage ?? config.bufferGasLimitPercentage,\n    notifications: {\n      ...DEFAULT_CONFIG.notifications,\n      ...pickBy(config.notifications, noUndefined),\n    },\n  }\n  const [reducedConfig, dispatch] = useReducer(configReducer, configWithDefaults)\n  return <ConfigContext.Provider value={{ config: reducedConfig, updateConfig: dispatch }} children={children} />\n}\n"]},"metadata":{},"sourceType":"module"}